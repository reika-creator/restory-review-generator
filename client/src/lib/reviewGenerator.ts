/**
 * Design Philosophy: ソフト・ミニマリズム × ウェルネス美学
 * 口コミ生成ロジック - 自然で多様な文章を生成
 */

export interface QuestionAnswers {
  q1: string; // 一番自信を持って笑顔になりたい場所
  q2: string; // Re:Storyへ行こうと思ったきっかけ
  q3: string; // 期待する素敵な未来
}

interface ReviewTemplate {
  length: 'short' | 'medium' | 'long';
  template: (answers: QuestionAnswers) => string;
}

const reviewTemplates: ReviewTemplate[] = [
  // 短文パターン
  {
    length: 'short',
    template: (a) => `${a.q2}で来店しました。${a.q1}が気になっていたのですが、施術後は肌の変化を実感できて嬉しかったです。${a.q3}と思っているので、これからも通いたいと思います。`
  },
  {
    length: 'short',
    template: (a) => `${a.q1}のケアを目的に伺いました。${a.q2}というのが決め手でした。丁寧なカウンセリングと施術で、肌の状態が良くなってきた気がします。${a.q3}を目指して続けていきます。`
  },
  {
    length: 'short',
    template: (a) => `初めての来店でしたが、${a.q2}ということで安心して施術を受けられました。特に${a.q1}の変化を期待していて、1回目から手応えを感じています。${a.q3}という目標に向けて頑張ります。`
  },
  
  // 中文パターン
  {
    length: 'medium',
    template: (a) => `以前から${a.q1}が気になっていて、何か良い方法はないかと探していたところ、${a.q2}でRe:Storyを知りました。実際に施術を受けてみると、痛みもなくリラックスできる空間で、オーナーの方も親身に相談に乗ってくださいました。まだ1回目ですが、肌の調子が良くなってきた実感があります。${a.q3}という想いがあるので、これから継続して通いたいと思います。メラビアンの法則でも第一印象は大切だと言われますし、見た目の変化が自信に繋がると信じています。`
  },
  {
    length: 'medium',
    template: (a) => `${a.q2}がきっかけでRe:Storyに伺いました。カウンセリングでは${a.q1}の悩みをしっかり聞いてくださり、肌の状態に合わせた施術を提案していただきました。水光ジェットは初めてでしたが、針を使わないので安心して受けられました。施術後は肌がふっくらして、透明感も出てきた気がします。${a.q3}と考えているので、3〜5回かけて根本から改善していきたいです。完全個室でリラックスできるのも嬉しいポイントでした。`
  },
  {
    length: 'medium',
    template: (a) => `${a.q1}のケアを本格的にしたいと思い、${a.q2}でこちらを選びました。施術は丁寧で、肌への負担も少なく、ダウンタイムがないのが助かります。オーナーの方が肌の仕組みや改善方法について詳しく説明してくださり、魔法ではなく時間をかけて根本改善していくという考え方に共感しました。${a.q3}という目標があるので、継続して通いたいと思います。第一印象が大切だと改めて感じているので、肌を整えることで自信を持てるようになりたいです。`
  },
  
  // 長文パターン
  {
    length: 'long',
    template: (a) => `以前から${a.q1}が気になっていて、色々な方法を試してきましたが、なかなか満足のいく結果が得られませんでした。そんな時、${a.q2}でRe:Storyのことを知り、口コミも良かったので思い切って予約してみました。初回のカウンセリングでは、肌の状態を丁寧に見てくださり、私の悩みや希望をしっかりと聞いてくださいました。施術は水光ジェットという針を使わない方法で、痛みもなくリラックスして受けることができました。完全個室なので周りを気にせず、ゆったりとした時間を過ごせたのも良かったです。施術後は肌がふっくらとして、透明感が出てきたように感じました。オーナーの方が「魔法ではなく、3〜5回かけて肌を根本から改善していく」とおっしゃっていたのが印象的で、その誠実な姿勢に信頼感を持ちました。${a.q3}という想いがあるので、これから継続して通いたいと思います。メラビアンの法則でも言われるように、第一印象は見た目が大きく影響するので、肌を整えることで自信を持って人と接することができるようになりたいです。西葛西でこんなに素敵なサロンに出会えて本当に良かったです。`
  },
  {
    length: 'long',
    template: (a) => `${a.q2}がきっかけでRe:Storyを知り、初めて伺いました。以前から${a.q1}が悩みで、エステやクリニックも検討していましたが、痛みやダウンタイムが心配でなかなか踏み出せずにいました。Re:Storyは針を使わない水光ジェットという施術方法で、痛みもなく安心して受けられるということで、思い切って予約してみました。当日はカウンセリングから始まり、肌の状態や悩みを丁寧に聞いてくださいました。オーナーの方がとても親身で、肌の仕組みや改善方法について分かりやすく説明してくださったのが印象的でした。施術は完全個室で行われ、リラックスできる空間でゆったりと過ごすことができました。施術後は肌がふっくらとして、透明感も出てきた気がします。まだ1回目ですが、これから3〜5回かけて根本から改善していくというお話を聞いて、長期的に通いたいと思いました。${a.q3}という目標があるので、肌を整えることで自信を持って日々を過ごせるようになりたいです。第一印象は見た目が大きく影響すると言われますし、肌が綺麗になることで人生がもっと豊かになると信じています。西葛西でこんなに信頼できるサロンに出会えて嬉しいです。`
  },
  {
    length: 'long',
    template: (a) => `${a.q1}のケアを本格的にしたいと思い、色々なサロンを調べていたところ、${a.q2}でRe:Storyを見つけました。口コミも良く、オーナーの方の人柄が伝わってくる内容だったので、安心して予約することができました。初回のカウンセリングでは、肌の状態を細かくチェックしてくださり、私の悩みや希望をしっかりと聞いてくださいました。施術は水光ジェットという針を使わない方法で、痛みもなくリラックスして受けることができました。完全個室なので周りを気にせず、ゆったりとした時間を過ごせたのも嬉しかったです。施術後は肌がふっくらとして、透明感が出てきたように感じました。オーナーの方が「魔法ではなく、時間をかけて肌を根本から改善していく」とおっしゃっていたのが印象的で、その誠実な姿勢に共感しました。${a.q3}という想いがあるので、これから継続して通いたいと思います。メラビアンの法則でも第一印象は見た目が大きく影響すると言われますし、肌を整えることで自信を持って人と接することができるようになりたいです。ダウンタイムがないので、仕事の合間にも通えるのが助かります。西葛西でこんなに素敵なサロンに出会えて本当に良かったです。これからもよろしくお願いします。`
  }
];

/**
 * ランダムに口コミ文章を生成
 */
export function generateReview(answers: QuestionAnswers): string {
  // ランダムにテンプレートを選択
  const randomIndex = Math.floor(Math.random() * reviewTemplates.length);
  const selectedTemplate = reviewTemplates[randomIndex];
  
  return selectedTemplate.template(answers);
}

/**
 * 質問の選択肢データ
 */
export const questions = {
  q1: {
    title: '今日、一番「自信を持って笑顔になりたい」と思った場所は？',
    options: [
      'ほうれい線・口元',
      'フェイスライン',
      '首のシワ',
      '目元のハリ',
      '肌全体のくすみ'
    ]
  },
  q2: {
    title: '今回「Re:Story」へ行ってみようと思ったきっかけは？',
    options: [
      '知人からの紹介',
      '痛くない・針なしの水光ジェットに惹かれた',
      '西葛西駅の近くで探していた',
      '完全個室でリラックスしたかった',
      'ダウンタイムがないのが助かる',
      'オーナーの人柄や口コミが良さそうだった'
    ]
  },
  q3: {
    title: 'これからどんな「素敵な未来」を肌に期待しますか？',
    options: [
      '肌の根本改善をして、自分に自信を持ちたい',
      '直近のイベントに、一番綺麗な自分で参加したい',
      '仕事の第一印象を良くして、もっと活躍したい',
      '「若返った？」と周りに驚かれたい',
      '10年後の自分を輝かせたい'
    ]
  }
};

export const GOOGLE_REVIEW_URL = 'https://search.google.com/local/writereview?placeid=ChIJsfRIZHGHGGARVrttvZnYcyA';
